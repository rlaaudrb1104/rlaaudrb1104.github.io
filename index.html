<!DOCTYPE html>
  <html>
  <head>
      <title>Flag Logger</title>
  </head>
  <body>
      <h1>Captured Flags</h1>
      <div id="flags"></div>

      <script>
          // URL 쿼리 파라미터에서 flag 추출
          const params = new URLSearchParams(window.location.search);
          const flag = params.get('flag');

          if (flag) {
              // localStorage에 저장
              const flags = JSON.parse(localStorage.getItem('flags') || '[]');
              flags.push({
                  flag: flag,
                  timestamp: new Date().toISOString()
              });
              localStorage.setItem('flags', JSON.stringify(flags));

              // 페이지에 표시
              document.getElementById('flags').innerHTML =
                  '<p>Flag captured: <code>' + flag + '</code></p>';

              console.log('Flag logged:', flag);
          }

          // 모든 flags 표시
          const allFlags = JSON.parse(localStorage.getItem('flags') || '[]');
          document.getElementById('flags').innerHTML +=
              '<pre>' + JSON.stringify(allFlags, null, 2) + '</pre>';
      </script>
  </body>
  </html>
